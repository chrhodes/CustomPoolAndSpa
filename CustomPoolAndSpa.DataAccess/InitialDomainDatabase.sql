IF schema_id('Domain') IS NULL
    EXECUTE('CREATE SCHEMA [Domain]')
CREATE TABLE [Domain].[Address] (
    [Id] [int] NOT NULL IDENTITY,
    [Street1] [nvarchar](50),
    [Street2] [nvarchar](50),
    [City] [nvarchar](30),
    [State] [nvarchar](30),
    [ZipCode] [nvarchar](20),
    [DateModified] [datetime],
    [DateCreated] [datetime],
    CONSTRAINT [PK_Domain.Address] PRIMARY KEY ([Id])
)
CREATE TABLE [Domain].[Customer] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](100) NOT NULL,
    [CellPhone] [nvarchar](50),
    [WorkPhone] [nvarchar](50),
    [MainPhone] [nvarchar](50),
    [HomePhone] [nvarchar](50),
    [DateModified] [datetime],
    [DateCreated] [datetime],
    CONSTRAINT [PK_Domain.Customer] PRIMARY KEY ([Id])
)
CREATE TABLE [Domain].[Material] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](50) NOT NULL,
    [Description] [nvarchar](250),
    [DateModified] [datetime],
    [DateCreated] [datetime],
    CONSTRAINT [PK_Domain.Material] PRIMARY KEY ([Id])
)
CREATE TABLE [Domain].[MaterialUsed] (
    [Id] [int] NOT NULL IDENTITY,
    [Quantity] [real] NOT NULL,
    [DateModified] [datetime],
    [DateCreated] [datetime],
    [Material_Id] [int] NOT NULL,
    [ServiceReport_Id] [int] NOT NULL,
    CONSTRAINT [PK_Domain.MaterialUsed] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Material_Id] ON [Domain].[MaterialUsed]([Material_Id])
CREATE INDEX [IX_ServiceReport_Id] ON [Domain].[MaterialUsed]([ServiceReport_Id])
CREATE TABLE [Domain].[ServiceCall] (
    [Id] [int] NOT NULL IDENTITY,
    [ServiceDate] [datetime] NOT NULL,
    [ServiceTime] [time](7) NOT NULL,
    [ServiceType_VacuumService] [bit] NOT NULL,
    [ServiceType_ChemicalCheck] [bit] NOT NULL,
    [ServiceType_SPAService] [bit] NOT NULL,
    [ServiceType_PolarisService] [bit] NOT NULL,
    [ServiceType_ServiceCall] [bit] NOT NULL,
    [ServiceType_Delivery] [bit] NOT NULL,
    [PoolCondition_ChlorineResidual] [real] NOT NULL,
    [PoolCondition_FreeChlorine] [real] NOT NULL,
    [PoolCondition_PHLevel] [real] NOT NULL,
    [PoolCondition_TotalAlkalinity] [real] NOT NULL,
    [PoolCondition_Turbidity] [real] NOT NULL,
    [PoolCondition_CyanuricAcidLevel] [real] NOT NULL,
    [PoolCondition_Temperature] [real] NOT NULL,
    [AdditionalTime] [time](7) NOT NULL,
    [DateModified] [datetime],
    [DateCreated] [datetime],
    [ServiceAddress_Id] [int] NOT NULL,
    CONSTRAINT [PK_Domain.ServiceCall] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ServiceAddress_Id] ON [Domain].[ServiceCall]([ServiceAddress_Id])
CREATE TABLE [Domain].[ServiceAddress] (
    [Id] [int] NOT NULL IDENTITY,
    [DateModified] [datetime],
    [DateCreated] [datetime],
    [Address_Id] [int] NOT NULL,
    [Customer_Id] [int] NOT NULL,
    CONSTRAINT [PK_Domain.ServiceAddress] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Address_Id] ON [Domain].[ServiceAddress]([Address_Id])
CREATE INDEX [IX_Customer_Id] ON [Domain].[ServiceAddress]([Customer_Id])
ALTER TABLE [Domain].[MaterialUsed] ADD CONSTRAINT [FK_Domain.MaterialUsed_Domain.Material_Material_Id] FOREIGN KEY ([Material_Id]) REFERENCES [Domain].[Material] ([Id]) ON DELETE CASCADE
ALTER TABLE [Domain].[MaterialUsed] ADD CONSTRAINT [FK_Domain.MaterialUsed_Domain.ServiceCall_ServiceReport_Id] FOREIGN KEY ([ServiceReport_Id]) REFERENCES [Domain].[ServiceCall] ([Id]) ON DELETE CASCADE
ALTER TABLE [Domain].[ServiceCall] ADD CONSTRAINT [FK_Domain.ServiceCall_Domain.ServiceAddress_ServiceAddress_Id] FOREIGN KEY ([ServiceAddress_Id]) REFERENCES [Domain].[ServiceAddress] ([Id]) ON DELETE CASCADE
ALTER TABLE [Domain].[ServiceAddress] ADD CONSTRAINT [FK_Domain.ServiceAddress_Domain.Address_Address_Id] FOREIGN KEY ([Address_Id]) REFERENCES [Domain].[Address] ([Id]) ON DELETE CASCADE
ALTER TABLE [Domain].[ServiceAddress] ADD CONSTRAINT [FK_Domain.ServiceAddress_Domain.Customer_Customer_Id] FOREIGN KEY ([Customer_Id]) REFERENCES [Domain].[Customer] ([Id]) ON DELETE CASCADE
CREATE TABLE [Domain].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_Domain.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [Domain].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201904172357588_InitialDomainDatabase', N'CustomPoolAndSpa.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FECB6117E2FD0FF20EC6371E2F505415BC34EE0AC8F1B23C7C7AED7E7B4E88B414BF49A38BA6C25AEE145D15FD687FEA4FE8592BAF22E52E26ED68E1120C94AC38FC3E1CC70480DC7FFFBCF7F4F7E7C49E2E019E605CAD2D3C9C1DEFE2480699845285D9C4E56F8F1BB3F4D7EFCE1F7BF3BF918252FC1D786EE88D2919669713A79C278793C9D16E1134C40B197A030CF8AEC11EF8559320551363DDCDFFFF3F4E0600A09C4846005C1C9ED2AC52881E50FF27396A5215CE21588AFB208C645FD9CBC9997A8C16790C0620942783A99AD0A9C253759169FA5D17C09F6CE010693E02C4680303387F1E32400699A618009ABC75F0A38C779962E08294620BE5B2F21A17B047101EB211C77E4B6A3D93FA4A399760D1BA8B0E4CE11F0E0A816CF546C3E48C893567CA56893650C5FE8B04B295211E5CF2884F4C924103B3C9EC5397DA39233A143E91ED3FC43A021FAD06A0A5128FA0FA58CF12A87A7295CE11CC41F829BD5438CC25FE0FA2EFB06D3D37415C72CE384F59B3C5BC21CAF6BBEBF8270B54AEAEE2741C5E54FA46B08889C3E93F6E02186EDD44E8D60332247148298FC37FC36166C7E73E689AD9B2C06392A3CA1D5303340443B12EA1CC6887889B51BCEC994513FB356521D226E204295DABBEB2507B05DCD9C3DC5598E52780B0B141127D608694E9C680C9D657D9143D8408E84BAF9F9137C866319BA2393109FC5DF408C5284D763D156F9038AC6E3CCD6205DE5283C0B51E4659430213F01D5052724AD927F246B1C5E333A7E1645392C0AA376674992A58D4ED70D888EB28FFDE83079C73D6004720B1F6B8E2F23496A53B1A12847DAA61ACC658A8F0E15D263063EC7590EFF02532A7818DD008C619E520C580AAFD7C361622BF8A09D2F4C6C663109AEC0CB27982EF0D3E9E47B12A85CA01718350F6A1EBEA4884439A40DCE57FD8EB4ECE670D3DDCC58A390FB38F2331422E84D77F20FB49C11624337873EBA21911F2401237A44B0D539FAEC8E8496366D6739A45A676E7A32EDECD868DDD58A03F3218B57D376C3EBD69BB079FA6F83661DECDBA996EB6A03E3F8E6294B4D5D7B71027FCBF26F5BE9E88AA8D5563AFA9968F6563ADA2D7F70459AE7884683EEFEA069FBEE0F46FB034BCD72DE0F15618E96D56645BFCABD61B5FE5250C8E1AA4DDBBFAB77BF7AFF75056ABA51BB9BAD281169FA193CA345397069B969DCE12D8C4B82E2092DAB133B4E29EE3BCA8B3C4B6EB358D0BA96E07E9EADF2F298243351DD817C01B13DA7F5B1C92D5C6639EE675720D7F0CC519919E74955DC5B1B2B770234F8AC8F367F37558BDD6825AE736687D5D9C9B0B3BBAA6D85350AA73CEDAD3D085561EEB9F329257756C7A00A6F1C71CFA2AA2188470FFB577777B57CDB231F851761ACEB5E24EFBC889E4AF22206521F5EC4E6F8CAEC48BAF3AC775FB2EB0A6CA1B98D72E9B556A0D069AC48E6BA6277472FFDCC76B45A6E1B923E765BBA81110635D40DB98686230BD7D00CD2C6359C154516A2925BC576A08BDC78397C4CA3C02A8CEB16127E9771459C005A12B3272C9D4EFE2009BAAF83561A720722F8C144F41DD7E9398C2186C159587DD19D812204916C4A4466112743465A66216AEC4937C83EE39256F95677EC05D963994C1F1AF05D10646BEB96A3940D7F03A294BC06D349E79C7647982A27D4335463B02289B4DA9D38CBD3E8F66CE7ED5711AC61FB68E5D7347B49CFDE53BD0DB59BBE2D88B55AA0C8660393C011E65C24D00596E70F9402BE6045D44A465907AE457D1027CA85F63087988F88E6540CDDF2287A4149B83C4863E16A94CEFE7B609A9952C3748B9B250C9D703354A54A3D708C46A8D13895B103334A5D346E0192511DF59899B32686D67828252AB66D70D30E4F21F5A92B68638D0A5005206743E4BD85907411BE2C259BD8C5257A6186A4D00083A47A221606570F385E529D05F78A4A1D9D38C527BE8425C5240C30E7B17C894BB9B3D14AAC3704710D4264B9B53EAB5F68A6C0C365420648CF74F0DCE3C00C71866BA4E1C395A9A30BEB7931C8AED9BBB6A141FBEE645AA513D70F68E29632EFF8E40A2C97285D3079C8F593605E27217F37774FCD4D2A8C69C829AF18C8B43DE12C070B28BCA5196211BC40798169DEF303A0A74EB32891C9B4819066D56DFA95621D79429B45B86942FF5F1D7E95C9D97B1A93EDC47A41469AC014978386B2A7965B0634351CC420571CD1CDB27895A4BA633E53EB369D8C85681FBAE21CAA700E5D70AA84301664A6383A3473527E8CE0F9281FD963B4D95C2C4AFBD01E873FD264C1F8376E88ED41A708D8BE90F14EA682E2893A3E95945CDAA4F066636554EC4A3ADEAA74E1838559E99B6EC6AEAA140DB67DF5C4C112BAF42BCE1CBAC7F6584C86158BC53CB6C76292A8582CE6B13D169327C562318FDF6DCDDAD6D8EDD0785BD3EDFE2C6C4DDF74576D8DCB6DE2669A7DF1AE8BCEBAD804C9FEF4B13C9519AE93EAE69BD1CB2E8F89C5E89EBEEB93B53E095BA3F1EAC41ECBB96B93B1F586027536D3860B6ED917CE78D51772059EEAD3798D575FFEE94BBBB1107F49ACE842C7B4702152C53641BC17C85483D0465DFC2D495D0F02994B0FECD5491D3C4BE3822D5EA6D4E18B744EFCB307DADA01E84FBDCDE8DDAD4B1D7447A154CEA9A09DF60AACC8F132A9304FEEA462E2DD4976A81CECBD4CEB224CFE5AA5BE179ECE49E19ADB967AF096C40557BA7FA9C797489DFAE96E661A7AE8889C5C897C5BD330D132B1D338D89B9C8691B06483CD47C98198C9C83221BE7B0F7C5C031FAF8793E6CF0AF6E1CF968F2A7F3BBAC01FF4EB7756CCB75C97ED13D3CC659B44BF6B686E38283FD5CA62B3528A1646A51D65AE84C63759F3577FD419C89F1B5BE2571BE7F9D67D967633F2AE9D9B2D2B646AFEE83C50A80D8A8739377F6C7F9593DE7D61779CF5AEA1EF69173F9F0F946B0BE37FE2C5CC815735F3CA640187330DA9ADC309865EB486348081D215C0FC69812115E275288229EFC169B117DAFA5CF195190DE334A1C6F2BDF62BB33A764411A4EC0D91A40D37EB27EDEF367BA3CE9CB0282527A65254249380F0FE8C229A46315F171826B547F9673C8B1109703B822B90A24758E0EA2ED2E470FFE0502845B73B65E1A6451171EE4D5FA0889FB32DDCA74269638CA61B53AE571FF9E240E933C8C327904BD5013AD801B5803CA1B2A57F949047031865EEA17AC2140AFB28510F9D515577DD22F20C0B373F6DB184BB6F7650EE757EDE8695545F870DF35916D4195B2DC7939948C5713CE14AB5703CE14AA56F3CE1BE2E8BD15C0B7CB316F3BDBBC128EAC9A89DEB6F4557E408FCD5EA8B58C185C82FF652D060EBB3A8729CCCF9242343E9B2D5651AC197D3C9BFCA76C7C1E5DFEF99A61F82EB9C44D3C7C17EF0EFA1152E98BD921B1F627B076606D561791B4ACD255AE8756868AD930AE7268721AA2A8EFF714CE5133107A2EAE301E151A0CA1AD26341E55AD26311D535A547F3C9E634F881146B4C0FC1EB4B1818E1814D5902DE608582CD1E1035C59B7D208B859C3D606A8B3AFBE0572EF03C08555DA6C883C7DAD1355E712C3D6885ED0036B8C4BEAD23AC1DD588E1AA30480714E70BEC9732370E98A61ED4D057419C2DD7A651F2505DF11F5C46821812CCA99E03EA730B9C0324E782DC90F532444B108BE3973F3FD818281D590B29BE39874B9852CB538DD3A6BF9EE48B165F10759F2036571888FB38BAADF23C1C07AAAFB4030BE80CD2277D1A977775EA4D1C937B347FD9DDBE3EF5D647E2732DB656A468A754CA70CF721774AA2769647B4A35A04E94FB9C6E56C7D8DDAC7B85AA41DA3560C6FDE898E6B28FDC9D5556CA16D46C40D5AC01D3FA06632CD709DF76986593ECE25DBF34E5C3A4E21AE2842A4B8299EA8155392564FB5556B825735FED315CEB85198B8569FA70AE26662C25A6E96450ADB1DE42633D9DB95623EB2B45A6E96E78B9328B5A65E63E77ABA499B2E68FC24E750E4F976227B9D05D2A54264C255790C63474B526A8128DBD0FDF6FF531D1F7F0B543764C045BA828E63E1C7D34A2C93E1E2F8E2D94081B30908DFA06878A5F726E288921983F464CA299022D3A08FAA789531872D1434B73993E664D382370D490889FCB210611092DCE728C1E4188C9EB90A84DF97783BE827845483E260F30BA4CAF5778B9C264C8307988B9BB96341832F55F9635E3793EB92E334B0A1F43206C227A6E7C9DFEB44271D4F27DA13834D540D028AB3E24A77389E961F962DD227D966ADDE8806AF1B5C121FDC21313B0E23A9D8367388437A27A9FE00284EB26C5570FD23F11BCD84FCE1158E420296A8CAE3DF94974384A5E7EF83F602F3D10937B0000 , N'6.2.0-61023')

